PROJECT: Prepaid Cell Phone
REQ:
The contract of a prepaid cell phone should be modelled and implemented. A basic contract has a contract number (of type int) and a balance (of type double), but no monthly charges. The contract number is not automatically generated, but is to be set as a parameter by the constructor as well as the initial balance. The balance has a getter and a setter. The following options can be added to a contract (if needed also several times): ● 100 MB of data (monthly charge 1.00€) ● 50 SMS (monthly charge 0.50€) ● 50 minutes (monthly charge 1.50€) ● Double Transfer Rate (monthly charge 2.00€) implement this requirement with the help of the decorator pattern. All contract elements should be able to understand the methods getCharges():double, getBalance():double and setBalance(double). The method getCharges() should provide the monthly charge of a contract with all its options selected. The methods getBalance() and setBalance() should be passed through and access the basic contract.


==================== Step 1: Identify Classes ====================
Based on the provided description, the following main classes/entities can be identified:

1. **Contract**
   - Justification: This class represents the basic prepaid cell phone contract. It contains attributes such as contract number and balance, and methods for managing these attributes (getters and setters).

2. **Option**
   - Justification: This class represents the various options that can be added to a contract (e.g., data, SMS, minutes, transfer rate). Each option has a monthly charge associated with it.

3. **DataOption**
   - Justification: This class is a specific type of Option that represents the 100 MB of data. It will have its own charge and behavior.

4. **SmsOption**
   - Justification: This class is a specific type of Option that represents the 50 SMS. It will have its own charge and behavior.

5. **MinutesOption**
   - Justification: This class is a specific type of Option that represents the 50 minutes. It will have its own charge and behavior.

6. **TransferRateOption**
   - Justification: This class is a specific type of Option that represents the Double Transfer Rate. It will have its own charge and behavior.

7. **Decorator**
   - Justification: This class serves as a base for the decorator pattern, allowing options to be added to the contract dynamically. It will facilitate the aggregation of charges from the basic contract and any added options.

8. **ChargesCalculator**
   - Justification: This class is responsible for calculating the total monthly charges of a contract, taking into account the base contract and any options that have been added.

These classes collectively represent the structure and behavior of the prepaid cell phone contract system as described, focusing on the real-world entities involved.


==================== Step 2: Attributes & Methods ====================
Based on the provided description and the identified classes, here is a breakdown of the attributes and methods for each class:

### 1. **Contract**
- **Attributes:**
  - `contractNumber: int`
  - `balance: double`
  
- **Methods:**
  - `getCharges(): double`
  - `getBalance(): double`
  - `setBalance(double balance): void`

### 2. **Option**
- **Attributes:**
  - `monthlyCharge: double`
  
- **Methods:**
  - `getMonthlyCharge(): double`
  - `getCharges(): double` (This may be overridden in subclasses)
  
### 3. **DataOption** (inherits from Option)
- **Attributes:**
  - `monthlyCharge: double` (set to 1.00€)
  
- **Methods:**
  - `getMonthlyCharge(): double` (returns 1.00€)
  - `getCharges(): double` (returns monthlyCharge)

### 4. **SmsOption** (inherits from Option)
- **Attributes:**
  - `monthlyCharge: double` (set to 0.50€)
  
- **Methods:**
  - `getMonthlyCharge(): double` (returns 0.50€)
  - `getCharges(): double` (returns monthlyCharge)

### 5. **MinutesOption** (inherits from Option)
- **Attributes:**
  - `monthlyCharge: double` (set to 1.50€)
  
- **Methods:**
  - `getMonthlyCharge(): double` (returns 1.50€)
  - `getCharges(): double` (returns monthlyCharge)

### 6. **TransferRateOption** (inherits from Option)
- **Attributes:**
  - `monthlyCharge: double` (set to 2.00€)
  
- **Methods:**
  - `getMonthlyCharge(): double` (returns 2.00€)
  - `getCharges(): double` (returns monthlyCharge)

### 7. **Decorator** (base class for decorators)
- **Attributes:**
  - `contract: Contract` (reference to the base contract)
  
- **Methods:**
  - `getCharges(): double` (returns the charges of the wrapped contract)
  - `getBalance(): double` (returns the balance of the wrapped contract)
  - `setBalance(double balance): void` (sets the balance of the wrapped contract)

### 8. **ChargesCalculator**
- **Attributes:**
  - `contract: Contract` (reference to the contract to calculate charges for)
  
- **Methods:**
  - `calculateTotalCharges(): double` (calculates the total charges of the contract and its options)

### Summary
This structure allows for a flexible implementation of the prepaid cell phone contract system using the decorator pattern. Each option can be added to a contract dynamically, and the charges can be calculated based on the base contract and any options selected. The methods defined in each class ensure that the contract can manage its balance and calculate its total charges effectively.


==================== Step 3: Relationships ====================
Based on the provided description and the identified classes, here are the relationships between the classes, their types, and cardinalities:

1. **Contract** -- **Aggregation** -- **Option** : 0..*  
   - A `Contract` can have zero or more `Option` instances associated with it.

2. **Option** -- **Inheritance** -- **DataOption** : 1  
   - `DataOption` is a specific type of `Option`.

3. **Option** -- **Inheritance** -- **SmsOption** : 1  
   - `SmsOption` is a specific type of `Option`.

4. **Option** -- **Inheritance** -- **MinutesOption** : 1  
   - `MinutesOption` is a specific type of `Option`.

5. **Option** -- **Inheritance** -- **TransferRateOption** : 1  
   - `TransferRateOption` is a specific type of `Option`.

6. **Decorator** -- **Composition** -- **Contract** : 1  
   - A `Decorator` has exactly one `Contract` that it wraps.

7. **ChargesCalculator** -- **Composition** -- **Contract** : 1  
   - A `ChargesCalculator` has exactly one `Contract` for which it calculates charges.

### Summary of Relationships:
- **Contract** -- **Aggregation** -- **Option** : 0..*
- **Option** -- **Inheritance** -- **DataOption** : 1
- **Option** -- **Inheritance** -- **SmsOption** : 1
- **Option** -- **Inheritance** -- **MinutesOption** : 1
- **Option** -- **Inheritance** -- **TransferRateOption** : 1
- **Decorator** -- **Composition** -- **Contract** : 1
- **ChargesCalculator** -- **Composition** -- **Contract** : 1

This structure effectively models the relationships and cardinalities among the classes in the prepaid cell phone contract system.


==================== Step 4: Textual UML ====================
```
CLASS: Contract
Description: This class represents the basic prepaid cell phone contract. It contains attributes such as contract number and balance, and methods for managing these attributes.
ATTRIBUTES:
- contractNumber: int
- balance: double
METHODS:
- getCharges(): double
- getBalance(): double
- setBalance(double balance): void

RELATIONSHIPS:
- Contract Aggregation Option 0..*

CLASS: Option
Description: This class represents the various options that can be added to a contract (e.g., data, SMS, minutes, transfer rate). Each option has a monthly charge associated with it.
ATTRIBUTES:
- monthlyCharge: double
METHODS:
- getMonthlyCharge(): double
- getCharges(): double

RELATIONSHIPS:
- Option Inheritance DataOption 1
- Option Inheritance SmsOption 1
- Option Inheritance MinutesOption 1
- Option Inheritance TransferRateOption 1

CLASS: DataOption
Description: This class is a specific type of Option that represents the 100 MB of data. It will have its own charge and behavior.
ATTRIBUTES:
- monthlyCharge: double (set to 1.00€)
METHODS:
- getMonthlyCharge(): double
- getCharges(): double

RELATIONSHIPS:
- None

CLASS: SmsOption
Description: This class is a specific type of Option that represents the 50 SMS. It will have its own charge and behavior.
ATTRIBUTES:
- monthlyCharge: double (set to 0.50€)
METHODS:
- getMonthlyCharge(): double
- getCharges(): double

RELATIONSHIPS:
- None

CLASS: MinutesOption
Description: This class is a specific type of Option that represents the 50 minutes. It will have its own charge and behavior.
ATTRIBUTES:
- monthlyCharge: double (set to 1.50€)
METHODS:
- getMonthlyCharge(): double
- getCharges(): double

RELATIONSHIPS:
- None

CLASS: TransferRateOption
Description: This class is a specific type of Option that represents the Double Transfer Rate. It will have its own charge and behavior.
ATTRIBUTES:
- monthlyCharge: double (set to 2.00€)
METHODS:
- getMonthlyCharge(): double
- getCharges(): double

RELATIONSHIPS:
- None

CLASS: Decorator
Description: This class serves as a base for the decorator pattern, allowing options to be added to the contract dynamically. It will facilitate the aggregation of charges from the basic contract and any added options.
ATTRIBUTES:
- contract: Contract
METHODS:
- getCharges(): double
- getBalance(): double
- setBalance(double balance): void

RELATIONSHIPS:
- Decorator Composition Contract 1

CLASS: ChargesCalculator
Description: This class is responsible for calculating the total monthly charges of a contract, taking into account the base contract and any options that have been added.
ATTRIBUTES:
- contract: Contract
METHODS:
- calculateTotalCharges(): double

RELATIONSHIPS:
- ChargesCalculator Composition Contract 1
```


==================== Step 5: PlantUML Code ====================
@startuml

class Contract {
    - contractNumber: int
    - balance: double
    + getCharges(): double
    + getBalance(): double
    + setBalance(double balance): void
}

class Option {
    - monthlyCharge: double
    + getMonthlyCharge(): double
    + getCharges(): double
}

class DataOption {
    - monthlyCharge: double (set to 1.00€)
    + getMonthlyCharge(): double
    + getCharges(): double
}

class SmsOption {
    - monthlyCharge: double (set to 0.50€)
    + getMonthlyCharge(): double
    + getCharges(): double
}

class MinutesOption {
    - monthlyCharge: double (set to 1.50€)
    + getMonthlyCharge(): double
    + getCharges(): double
}

class TransferRateOption {
    - monthlyCharge: double (set to 2.00€)
    + getMonthlyCharge(): double
    + getCharges(): double
}

class Decorator {
    - contract: Contract
    + getCharges(): double
    + getBalance(): double
    + setBalance(double balance): void
}

class ChargesCalculator {
    - contract: Contract
    + calculateTotalCharges(): double
}

Contract o-- "0..*" Option
Option <|-- DataOption
Option <|-- SmsOption
Option <|-- MinutesOption
Option <|-- TransferRateOption
Decorator *-- Contract
ChargesCalculator *-- Contract

@enduml

